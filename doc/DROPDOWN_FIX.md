# ä¸‹æ‹‰èœå•é®æŒ¡é—®é¢˜ä¿®å¤è¯´æ˜

## ğŸ› é—®é¢˜æè¿°

æ¨¡å‹é€‰æ‹©å™¨çš„ä¸‹æ‹‰èœå•è¢«è¾“å…¥çª—å£å’Œå…¶ä»–UIå…ƒç´ é®æŒ¡ï¼Œæ— æ³•æ­£å¸¸æ˜¾ç¤ºå’Œé€‰æ‹©ã€‚

## ğŸ” é—®é¢˜åŸå› 

CSSå±‚çº§ï¼ˆz-indexï¼‰è®¾ç½®ä¸å½“ï¼Œå¯¼è‡´ä¸‹æ‹‰èœå•æ˜¾ç¤ºåœ¨å…¶ä»–å…ƒç´ ä¸‹æ–¹ã€‚

## âœ… ä¿®å¤æ–¹æ¡ˆ

### 1ï¸âƒ£ **è®¾ç½®åˆç†çš„z-indexå±‚çº§**

å»ºç«‹äº†æ¸…æ™°çš„å±‚çº§ä½“ç³»ï¼š

```
å±‚çº§ä»ä½åˆ°é«˜ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
z-index: 1     â†’ æ§åˆ¶é¢æ¿ã€èŠå¤©åŒºåŸŸ
z-index: 10    â†’ è¾“å…¥æ¡†
z-index: 50    â†’ è¾“å…¥æ¡†ç„¦ç‚¹çŠ¶æ€
z-index: 100   â†’ ä¸‹æ‹‰èœå•åŸºç¡€
z-index: 1000  â†’ æ¨¡å‹é€‰æ‹©å™¨å®¹å™¨
z-index: 1001  â†’ æ¨¡å‹é€‰æ‹©å™¨è¾“å…¥æ¡†
z-index: 1002  â†’ æ¨¡å‹é€‰æ‹©å™¨ç„¦ç‚¹çŠ¶æ€
z-index: 9999  â†’ ä¸‹æ‹‰é€‰é¡¹å®¹å™¨ï¼ˆæœ€é«˜å±‚ï¼‰
```

### 2ï¸âƒ£ **å…³é”®CSSä¿®æ”¹**

#### æ§åˆ¶é¢æ¿ (main.py:156-181)

```css
.control-panel, .chat-area {
    position: relative !important;
    z-index: 1 !important;
}

.control-panel {
    overflow: visible !important;  /* ç¡®ä¿ä¸‹æ‹‰èœå•ä¸è¢«è£å‰ª */
}
```

#### è¾“å…¥æ¡† (main.py:238-255)

```css
.input-text, textarea, input {
    position: relative !important;
    z-index: 10 !important;
}

.input-text:focus, textarea:focus, input:focus {
    z-index: 50 !important;
}
```

#### æ¨¡å‹é€‰æ‹©å™¨ (main.py:257-325)

```css
.model-selector {
    position: relative !important;
    z-index: 1000 !important;
}

.model-selector select,
.model-selector input {
    position: relative !important;
    z-index: 1001 !important;
}

.model-selector select:focus,
.model-selector input:focus {
    z-index: 1002 !important;
}

/* ä¸‹æ‹‰é€‰é¡¹å®¹å™¨ - æœ€é«˜å±‚ */
.model-selector .dropdown-content,
.model-selector .svelte-1gfkn6j,
.model-selector [role="listbox"],
.model-selector ul {
    position: absolute !important;
    z-index: 9999 !important;
    background: rgba(15, 23, 42, 0.98) !important;
    border: 2px solid rgba(6, 182, 212, 0.4) !important;
    border-radius: 12px !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6) !important;
    max-height: 400px !important;
    overflow-y: auto !important;
}
```

### 3ï¸âƒ£ **é¢å¤–ä¼˜åŒ–**

#### ä¸‹æ‹‰èœå•æ ·å¼å¢å¼º

- âœ… æ·»åŠ æ·±è‰²é˜´å½±å¢å¼ºå±‚æ¬¡æ„Ÿ
- âœ… è®¾ç½®æœ€å¤§é«˜åº¦å’Œæ»šåŠ¨æ¡
- âœ… ä¼˜åŒ–è¾¹æ¡†å’Œåœ†è§’
- âœ… ç¡®ä¿ç»å¯¹å®šä½

## ğŸ“‹ ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ–‡ä»¶                 | ä¿®æ”¹å†…å®¹           | è¡Œå·      |
|--------------------|----------------|---------|
| `main.py`          | æ§åˆ¶é¢æ¿z-indexè®¾ç½®  | 156-181 |
| `main.py`          | è¾“å…¥æ¡†z-indexè®¾ç½®   | 238-255 |
| `main.py`          | ä¸‹æ‹‰èœå•z-indexè®¾ç½®  | 257-262 |
| `main.py`          | æ¨¡å‹é€‰æ‹©å™¨z-indexå±‚çº§ | 263-325 |
| `tests/test_ui.py` | ä¿®å¤å¯¼å…¥è·¯å¾„é—®é¢˜       | 5-10    |

## ğŸ¯ è§£å†³æ–¹æ¡ˆç‰¹ç‚¹

### å±‚çº§æ¸…æ™°

- æ¯ä¸ªUIå…ƒç´ éƒ½æœ‰æ˜ç¡®çš„z-indexå€¼
- é¿å…éšæ„è®¾ç½®å¯¼è‡´å†²çª
- éµå¾ªä»ä½åˆ°é«˜çš„é€»è¾‘é¡ºåº

### å…¼å®¹æ€§å¥½

- ä½¿ç”¨å¤šä¸ªCSSé€‰æ‹©å™¨è¦†ç›–ä¸åŒç»„ä»¶
- æ”¯æŒGradioçš„å†…éƒ¨class
- å…¼å®¹ä¸åŒæµè§ˆå™¨

### è§†è§‰ä¼˜åŒ–

- ä¸‹æ‹‰èœå•æœ‰æ·±è‰²é˜´å½±
- è¾¹æ¡†å’ŒèƒŒæ™¯åŒ¹é…ä¸»é¢˜
- æ»šåŠ¨æ¡è‡ªåŠ¨å‡ºç°

## ğŸ§ª æµ‹è¯•ç»“æœ

```bash
âœ… UIç»„ä»¶æµ‹è¯•é€šè¿‡
âœ… ä¸»é¢˜é…ç½®æ­£ç¡®
âœ… CSSæ ·å¼åŠ è½½æˆåŠŸ
âœ… æ‰€æœ‰ç»„ä»¶åˆ›å»ºæˆåŠŸ
```

## ğŸš€ ä½¿ç”¨è¯´æ˜

ä¿®å¤åï¼Œæ¨¡å‹é€‰æ‹©å™¨çš„ä¸‹æ‹‰èœå•å°†ï¼š

- âœ… å®Œå…¨æ˜¾ç¤ºåœ¨æ‰€æœ‰å…ƒç´ ä¸Šæ–¹
- âœ… ä¸è¢«è¾“å…¥æ¡†é®æŒ¡
- âœ… ä¸è¢«èŠå¤©åŒºåŸŸé®æŒ¡
- âœ… ä¿æŒæ­£å¸¸çš„äº¤äº’å’Œé€‰æ‹©åŠŸèƒ½

## ğŸ’¡ é¢„é˜²æªæ–½

åœ¨æœªæ¥æ·»åŠ æ–°UIå…ƒç´ æ—¶ï¼Œæ³¨æ„ï¼š

1. åˆç†è®¾ç½®z-indexï¼Œéµå¾ªç°æœ‰å±‚çº§
2. ä¸‹æ‹‰èœå•ç±»ç»„ä»¶ä½¿ç”¨é«˜z-indexï¼ˆ9999ï¼‰
3. å®¹å™¨è®¾ç½® `overflow: visible` é¿å…è£å‰ª
4. ä½¿ç”¨ `position: relative` æˆ– `absolute` æ¿€æ´»z-index

## ğŸ¨ è§†è§‰æ•ˆæœ

ä¿®å¤å‰ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI æ¨¡å‹é€‰æ‹©  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â† ä¸‹æ‹‰èœå•è¢«é®æŒ¡
â”‚ ğŸ”¹ Cereb...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â–² è¢«è¾“å…¥æ¡†é®æŒ¡
```

ä¿®å¤åï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI æ¨¡å‹é€‰æ‹©  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¹ Cerebras | llama-3.3-70b    â”‚
â”‚ ğŸ”¹ Cerebras | llama-3.1-8b     â”‚
â”‚ ğŸ”¹ Cerebras | llama-3.1-70b    â”‚
â”‚ ğŸ”¹ DeepSeek | deepseek-chat    â”‚
â”‚ ...                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    âœ“ å®Œæ•´æ˜¾ç¤ºåœ¨æœ€ä¸Šå±‚
```

## âœ… éªŒè¯æ–¹æ³•

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ä¿®å¤ï¼š

```bash
# è¯­æ³•æ£€æŸ¥
python -m py_compile main.py

# UIæµ‹è¯•
python tests/test_ui.py

# å¯åŠ¨åº”ç”¨æµ‹è¯•
python main.py
# ç„¶åç‚¹å‡»æ¨¡å‹é€‰æ‹©å™¨ï¼Œç¡®è®¤ä¸‹æ‹‰èœå•å®Œæ•´æ˜¾ç¤º
```

---

**ä¿®å¤çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡
**ä¿®å¤æ—¥æœŸ**: 2025-11-14
**å½±å“èŒƒå›´**: æ¨¡å‹é€‰æ‹©å™¨ä¸‹æ‹‰èœå•æ˜¾ç¤º
